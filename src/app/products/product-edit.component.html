<div class="panel panel-violet">
  <div class="panel-heading">
    {{pageTitle}}
  </div>
  <div class="panel-body">
    <form class="form-horizontal"
          novalidate
          (ngSubmit)="save()"
          [formGroup]="productForm">
        <fieldset>
          <!-- product name-->
          <div class="form-group"
              [ngClass]="{'has-error': (productForm.get('productName').touched ||
                                        productForm.get('productName').dirty) &&
                                        !productForm.get('productName').valid }">
              <label class="col-md-2 control-label"
                     for="productNameId">Product Name</label>

              <div class="col-md-8">
                  <input class="form-control"
                         id="productNameId"
                         type="text"
                         placeholder="Product Name (required)"
                         formControlName="productName" />
                  <span class="help-block" *ngIf="(productForm.get('productName').touched ||
                                                   productForm.get('productName').dirty) &&
                                                   productForm.get('productName').errors">
                    <span *ngIf="productForm.get('productName').errors.required">
                        Please enter a Product name.
                    </span>
                    <span *ngIf="productForm.get('productName').errors.minlength">
                        The Product name must be longer than 3 characters.
                    </span>
                </span>
              </div>
          </div>
          <!-- product Code-->
          <div class="form-group"
              [ngClass]="{'has-error': (productForm.get('productCode').touched ||
                                        productForm.get('productCode').dirty) &&
                                        !productForm.get('productCode').valid }">
              <label class="col-md-2 control-label"
                     for="productCodeId">Product Code</label>

              <div class="col-md-8">
                  <input class="form-control"
                         id="productCodeId"
                         type="text"
                         placeholder="Product Code (required)"
                         formControlName="productCode" />
                  <span class="help-block" *ngIf="(productForm.get('productCode').touched ||
                                                   productForm.get('productCode').dirty) &&
                                                   productForm.get('productCode').errors">
                    <span *ngIf="productForm.get('productCode').errors.required">
                        Please enter a Product Code.
                    </span>
                    <span *ngIf="productForm.get('productCode').errors.minlength">
                        The Product Code must be longer than 3 characters.
                    </span>
                </span>
              </div>
          </div>
          <!--Release Date-->
          <div class="form-group"
              [ngClass]="{'has-error': (productForm.get('releaseDate').touched ||
                                        productForm.get('releaseDate').dirty) &&
                                        !productForm.get('releaseDate').valid }">
              <label class="col-md-2 control-label"
                     for="releaseDateId">Release Date</label>
              <div class="col-md-8">
                  <input class="form-control"
                         id="releaseDateId"
                         type="text"
                         placeholder="Release Date"
                         formControlName="releaseDate" />
                  <span class="help-block" *ngIf="(productForm.get('releaseDate').touched ||
                                                   productForm.get('releaseDate').dirty) &&
                                                   productForm.get('releaseDate').errors">
                    <span *ngIf="productForm.get('releaseDate').errors.required">
                        Please enter a Release Date.
                    </span>
                </span>
              </div>
          </div>
          <!--description-->
          <div class="form-group"
              [ngClass]="{'has-error': (productForm.get('description').touched ||
                                        productForm.get('description').dirty) &&
                                        !productForm.get('description').valid }">
              <label class="col-md-2 control-label"
                     for="descriptionId">Description</label>

              <div class="col-md-8">
                  <input class="form-control"
                         id="descriptionId"
                         type="text"
                         placeholder="Description (required)"
                         formControlName="description" />
                  <span class="help-block" *ngIf="(productForm.get('description').touched ||
                                                   productForm.get('description').dirty) &&
                                                   productForm.get('description').errors">
                    <span *ngIf="productForm.get('description').errors.required">
                        Please enter a Product Description.
                    </span>
                </span>
              </div>
          </div>
          <!--price-->
          <div class="form-group"
              [ngClass]="{'has-error': (productForm.get('price').touched ||
                                        productForm.get('price').dirty) &&
                                        !productForm.get('price').valid }">
              <label class="col-md-2 control-label"
                     for="priceId">Price</label>

              <div class="col-md-8">
                  <input class="form-control"
                         id="priceId"
                         type="text"
                         placeholder="Price (required)"
                         formControlName="price" />
                  <span class="help-block" *ngIf="(productForm.get('price').touched ||
                                                   productForm.get('price').dirty) &&
                                                   productForm.get('price').errors">
                    <span *ngIf="productForm.get('price').errors.required">
                        Please enter a Price.
                    </span>
                </span>
              </div>
          </div>
          <!--Star rating-->
          <div class="form-group"
              [ngClass]="{'has-error': (productForm.get('starRating').touched ||
                                        productForm.get('starRating').dirty) &&
                                        !productForm.get('starRating').valid }">
              <label class="col-md-2 control-label"
                     for="starRatingId">Star Rating</label>

              <div class="col-md-8">
                  <input class="form-control"
                         id="starRatingId"
                         type="text"
                         placeholder="Star Rating (required)"
                         formControlName="starRating" />
                  <span class="help-block" *ngIf="(productForm.get('starRating').touched ||
                                                   productForm.get('starRating').dirty) &&
                                                   productForm.get('starRating').errors">
                    <span *ngIf="productForm.get('starRating').errors.required">
                        Please enter a Star Rating.
                    </span>
                </span>
              </div>
          </div>
          <!--Star rating-->
          <div class="form-group"
              [ngClass]="{'has-error': (productForm.get('imageUrl').touched ||
                                        productForm.get('imageUrl').dirty) &&
                                        !productForm.get('imageUrl').valid }">
              <label class="col-md-2 control-label"
                     for="imageUrlId">Image URL</label>

              <div class="col-md-8">
                  <input class="form-control"
                         id="imageUrlId"
                         type="text"
                         placeholder="Image Url (required)"
                         formControlName="imageUrl" />
                  <span class="help-block" *ngIf="(productForm.get('imageUrl').touched ||
                                                   productForm.get('imageUrl').dirty) &&
                                                   productForm.get('imageUrl').errors">
                    <span *ngIf="productForm.get('imageUrl').errors.required">
                        Please enter a Image URL.
                    </span>
                </span>
              </div>
          </div>

          <!-- tags-->
          <div formArrayName="tags">
              <div class="row">
                  <button class="col-md-offset-1 col-md-1 btn btn-default"
                          type="button"
                          (click)="addTag()">Add Tag
                  </button>
              </div>
              <div class="form-group"
                  *ngFor="let tag of tags.controls; let i=index" >
                  <label class="col-md-2 control-label" [attr.for]="i">Tag</label>

                  <div class="col-md-8">
                      <input class="form-control"
                              [id]="i"
                              type="text"
                              placeholder="Tag"
                              [formControlName]="i" />
                  </div>
              </div>
          </div>
          <!-- buttons -->
          <div class="form-group">
              <div class="col-md-4 col-md-offset-2">
                  <span>
                      <button class="btn btn-violet"
                              type="submit"
                              style="width:80px;margin-right:10px"
                              [disabled]='!productForm.valid'>
                          Save
                      </button>
                  </span>
                  <span>
                      <a class="btn btn-default"
                         style="width:80px"
                         [routerLink]="['/products']">
                          Cancel
                      </a>
                  </span>
                  <span>
                      <a class="btn btn-default"
                         style="width:80px"
                         (click)="deleteProduct()">
                          Delete
                      </a>
                  </span>
               </div>
          </div>
        </fieldset>
    </form>
  </div>
  <div class="panel-footer">
    {{productForm.touched}}
  </div>
</div>
